<section id="servicios" class="py-16 scroll-mt-20 px-6 bg-gray-100">
    <h2 class="text-3xl font-bold uppercase text-center mb-2 text-gray-800">
        Nuestros Servicios
    </h2>
    <p class="text-center sm:text-md xl:text-lg text-gray-600 mb-12 max-w-3xl mx-auto">
        Descubre las soluciones que ofrecemos para satisfacer todas tus necesidades logísticas y de transporte.
    </p>

    <div class="relative overflow-hidden">
        <div class="flex transition-transform duration-500 ease-in-out" id="serviceSlider">
            <div class="flex-shrink-0 w-full md:w-1/2 lg:w-1/3 px-4 mb-8">
                <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
                    <div class="flex justify-center mb-4">
                        <img class="w-52 h-52 object-cover rounded-lg" src="/images/galeria/oremarc3.avif" alt="Transporte y Logística Integral" loading="lazy" width="208" 
                        height="208" />
                    </div>
                    <h3 class="text-xl uppercase text-center font-bold mb-2 text-gray-700">
                        Transporte <br > y Logística Integral
                    </h3>
                    <p class="text-gray-600 text-center sm:text-sm xl:text-lg">
                        Incluye el transporte de carga (pesada y liviana), mercancía, carga paletizada y apilable, así como servicios de logística.
                    </p>
                </div>
            </div>

            <div class="flex-shrink-0 w-full md:w-1/2 lg:w-1/3 px-4 mb-8">
                <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
                    <div class="flex justify-center mb-4">
                        <img class="w-52 h-52 object-cover rounded-lg" src="/images/galeria/oremarc3.avif" alt="Mudanzas Locales y Nacionales" loading="lazy" width="208" 
                        height="208" />
                    </div>
                    <h3 class="text-xl uppercase text-center font-bold mb-2 text-gray-700">
                        Mudanzas <br /> Locales y Nacionales
                    </h3>
                    <p class="text-gray-600 text-center sm:text-sm xl:text-lg">
                        Servicios de mudanza que abarcan todas las variantes, tanto locales como nacionales.
                    </p>
                </div>
            </div>

            <div class="flex-shrink-0 w-full md:w-1/2 lg:w-1/3 px-4 mb-8">
                <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
                    <div class="flex justify-center mb-4">
                        <img class="w-52 h-52 object-cover rounded-lg" src="/images/galeria/oremarc3.avif" alt="Embalaje y Estibaje Profesional" loading="lazy" width="208" 
                        height="208" />
                    </div>
                    <h3 class="text-xl uppercase text-center font-bold mb-2 text-gray-700">
                        Embalaje <br /> y Estibaje Profesional
                    </h3>
                    <p class="text-gray-600 text-center sm:text-sm xl:text-lg">
                        Servicios de embalaje y estibaje para garantizar la protección y optimización del espacio durante el traslado.
                    </p>
                </div>
            </div>

            <div class="flex-shrink-0 w-full md:w-1/2 lg:w-1/3 px-4 mb-8">
                <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
                    <div class="flex justify-center mb-4">
                        <img class="w-52 h-52 object-cover rounded-lg" src="/images/galeria/oremarc3.avif" alt="Soluciones de reparto y courier" loading="lazy" width="208" 
                        height="208" />
                    </div>
                    <h3 class="text-xl uppercase text-center font-bold mb-2 text-gray-700">
                        Soluciones <br /> de Reparto y Courier
                    </h3>
                    <p class="text-gray-600 text-center sm:text-sm xl:text-lg">
                        Servicios de reparto y courier retail, asegurando entregas rápidas y efectivas.
                    </p>
                </div>
            </div>

            <div class="flex-shrink-0 w-full md:w-1/2 lg:w-1/3 px-4 mb-8">
                <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
                    <div class="flex justify-center mb-4">
                        <img class="w-52 h-52 object-cover rounded-lg" src="/images/galeria/oremarc3.avif" alt="Almacenaje seguro" loading="lazy" width="208" 
                        height="208" />
                    </div>
                    <h3 class="text-xl uppercase text-center font-bold mb-2 text-gray-700">
                        Almacenaje <br /> Seguro
                    </h3>
                    <p class="text-gray-600 text-center sm:text-sm xl:text-lg">
                        Servicios de almacenaje para mantener tus pertenencias seguras antes o después del traslado.
                    </p>
                </div>
            </div>

            <div class="flex-shrink-0 w-full md:w-1/2 lg:w-1/3 px-4 mb-8">
                <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
                    <div class="flex justify-center mb-4">
                        <img class="w-52 h-52 object-cover rounded-lg" src="/images/galeria/oremarc3.avif" alt="Venta de materiales de embalaje" loading="lazy" width="208" 
                        height="208" />
                    </div>
                    <h3 class="text-xl uppercase text-center font-bold mb-2 text-gray-700">
                        Venta <br /> de Materiales de Embalaje
                    </h3>
                    <p class="text-gray-600 text-center sm:text-sm xl:text-lg">
                        Incluye la venta de pallets, cajas de madera, film, cartón y cajas de cartón para tus necesidades de embalaje.
                    </p>
                </div>
            </div>
        </div>

        <button id="prevSBtn" class="absolute left-0 top-1/2 transform -translate-y-1/2 text-primary p-3 bg-primary bg-opacity-30 rounded-full shadow-lg hover:bg-gray-100 z-10" aria-label="Anterior">
            <i class="fas fa-arrow-left fa-2xl"></i>
        </button>
        <button id="nextSBtn" class="absolute right-0 top-1/2 transform -translate-y-1/2 text-primary p-3 bg-primary bg-opacity-30 rounded-full shadow-lg hover:bg-gray-100 z-10" aria-label="Siguiente">
            <i class="fas fa-arrow-right fa-2xl"></i>
        </button>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', () => {
    // Seleccionamos el slider y los botones solo si existen
    const slider = document.getElementById('serviceSlider');
    const prevBtn = document.getElementById('prevSBtn');
    const nextBtn = document.getElementById('nextSBtn');

    if (!slider || !prevBtn || !nextBtn) return; // Si faltan elementos, no ejecutamos el código

    let currentIndex = 0;
    const totalSlides = slider.querySelectorAll('.flex-shrink-0').length;
    let isAnimating = false;

    const getSlideWidth = () => {
        if (window.innerWidth >= 1024) {
            return 33.333; // Diseño de 3 columnas
        } else if (window.innerWidth >= 768) {
            return 50; // Diseño de 2 columnas
        }
        return 100; // Diseño de 1 columna
    };

    const moveSlider = () => {
        slider.style.transform = `translateX(-${currentIndex * getSlideWidth()}%)`;
    };

    prevBtn.addEventListener('click', () => {
        if (isAnimating) return;
        isAnimating = true;
        currentIndex = (currentIndex > 0) ? currentIndex - 1 : totalSlides - 1;
        moveSlider();
        setTimeout(() => isAnimating = false, 500);
    });

    nextBtn.addEventListener('click', () => {
        if (isAnimating) return;
        isAnimating = true;
        currentIndex = (currentIndex < totalSlides - 1) ? currentIndex + 1 : 0;
        moveSlider();
        setTimeout(() => isAnimating = false, 500);
    });

    setInterval(() => {
        if (!isAnimating) {
            isAnimating = true;
            currentIndex = (currentIndex < totalSlides - 1) ? currentIndex + 1 : 0;
            moveSlider();
            setTimeout(() => isAnimating = false, 500);
        }
    }, 5000);
});

</script>