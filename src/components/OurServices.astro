<section class="py-12 px-6 bg-gray-100">
    <h2 class="text-3xl font-bold uppercase text-center mb-2 text-gray-800">
        Nuestros Servicios
    </h2>
    <p class="text-center text-lg text-gray-600 mb-8 max-w-3xl mx-auto">
        Descubre las soluciones que ofrecemos para satisfacer todas tus necesidades logísticas y de transporte.
    </p>

    <div class="relative overflow-hidden">
        <div class="flex transition-transform duration-500 ease-in-out" id="serviceSlider">
            <!-- Card 1 -->
            <div class="flex-shrink-0 w-full md:w-1/2 lg:w-1/3 px-4 mb-8">
                <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
                    <div class="flex justify-center mb-4">
                        <img class="w-52 h-52 object-cover rounded-lg" src="/images/galeria/oremarc3.avif" alt="Transporte y Logística Integral" loading="lazy">
                    </div>
                    <h3 class="text-xl uppercase text-center font-semibold mb-2 text-gray-700">
                        Transporte y Logística Integral
                    </h3>
                    <p class="text-gray-600 text-center">
                        Transporte de carga pesada, liviana, mercancías y servicios logísticos.
                    </p>
                </div>
            </div>

            <!-- Card 2 -->
            <div class="flex-shrink-0 w-full md:w-1/2 lg:w-1/3 px-4 mb-8">
                <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
                    <div class="flex justify-center mb-4">
                        <img class="w-52 h-52 object-cover rounded-lg" src="/images/galeria/oremarc3.avif" alt="Mudanzas Locales y Nacionales" loading="lazy">
                    </div>
                    <h3 class="text-xl uppercase text-center font-semibold mb-2 text-gray-700">
                        Mudanzas Locales y Nacionales
                    </h3>
                    <p class="text-gray-600 text-center">
                        Servicios de mudanzas locales y nacionales para un traslado seguro.
                    </p>
                </div>
            </div>

            <!-- Card 3 -->
            <div class="flex-shrink-0 w-full md:w-1/2 lg:w-1/3 px-4 mb-8">
                <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
                    <div class="flex justify-center mb-4">
                        <img class="w-52 h-52 object-cover rounded-lg" src="/images/galeria/oremarc3.avif" alt="Embalaje y Estibaje Profesional" loading="lazy">
                    </div>
                    <h3 class="text-xl uppercase text-center font-semibold mb-2 text-gray-700">
                        Embalaje y Estibaje Profesional
                    </h3>
                    <p class="text-gray-600 text-center">
                        Protección y optimización del espacio con nuestros servicios de embalaje.
                    </p>
                </div>
            </div>

            <!-- Card 4 -->
            <div class="flex-shrink-0 w-full md:w-1/2 lg:w-1/3 px-4 mb-8">
                <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
                    <div class="flex justify-center mb-4">
                        <img class="w-52 h-52 object-cover rounded-lg" src="/images/galeria/oremarc3.avif" alt="Servicios de Transporte Internacional" loading="lazy">
                    </div>
                    <h3 class="text-xl uppercase text-center font-semibold mb-2 text-gray-700">
                        Servicios de Transporte Internacional
                    </h3>
                    <p class="text-gray-600 text-center">
                        Transporte seguro y eficiente a nivel internacional.
                    </p>
                </div>
            </div>

            <!-- Card 5 -->
            <div class="flex-shrink-0 w-full md:w-1/2 lg:w-1/3 px-4 mb-8">
                <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
                    <div class="flex justify-center mb-4">
                        <img class="w-52 h-52 object-cover rounded-lg" src="/images/galeria/oremarc3.avif" alt="Carga Aérea" loading="lazy">
                    </div>
                    <h3 class="text-xl uppercase text-center font-semibold mb-2 text-gray-700">
                        Carga Aérea
                    </h3>
                    <p class="text-gray-600 text-center">
                        Servicios de carga aérea para envíos rápidos.
                    </p>
                </div>
            </div>

            <!-- Card 6 -->
            <div class="flex-shrink-0 w-full md:w-1/2 lg:w-1/3 px-4 mb-8">
                <div class="bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow">
                    <div class="flex justify-center mb-4">
                        <img class="w-52 h-52 object-cover rounded-lg" src="/images/galeria/oremarc3.avif" alt="Servicio Integral de Transporte" loading="lazy">
                    </div>
                    <h3 class="text-xl uppercase text-center font-semibold mb-2 text-gray-700">
                        Servicio Integral de Transporte
                    </h3>
                    <p class="text-gray-600 text-center">
                        Soluciones de transporte global integrales.
                    </p>
                </div>
            </div>
        </div>

        <!-- Botones de navegación -->
        <button id="prevBtn" class="absolute left-0 top-1/2 transform -translate-y-1/2 text-primary p-3 bg-white bg-opacity-40 rounded-full shadow-lg hover:bg-gray-100 focus:outline-none" aria-label="Anterior">
            <i class="fas fa-arrow-left fa-2xl"></i>
        </button>
        <button id="nextBtn" class="absolute right-0 top-1/2 transform -translate-y-1/2 text-primary p-3 bg-white bg-opacity-40 rounded-full shadow-lg hover:bg-gray-100 focus:outline-none" aria-label="Siguiente">
            <i class="fas fa-arrow-right fa-2xl"></i>
        </button>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const slider = document.getElementById('serviceSlider');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        
        if (!slider || !prevBtn || !nextBtn) return;

        let currentIndex = 0;
        const totalSlides = slider.querySelectorAll('.flex-shrink-0').length;
        let isAnimating = false; // Esto controla si el slider está en animación

        function getSlideWidth() {
            if (window.innerWidth >= 1024) {
                return 33.333; // 3 items por pantalla
            } else if (window.innerWidth >= 768) {
                return 50; // 2 items por pantalla
            } else {
                return 100; // 1 item por pantalla
            }
        }

        function moveSlider() {
            if (slider) {
                const slideWidth = getSlideWidth();
                slider.style.transform = `translateX(-${currentIndex * slideWidth}%)`;
            }
        }

        prevBtn.addEventListener('click', () => {
            if (isAnimating) return; // Ignorar el clic si ya está animando
            isAnimating = true;
            currentIndex = (currentIndex > 0) ? currentIndex - 1 : totalSlides - 1;
            moveSlider();
            setTimeout(() => isAnimating = false, 500); // Resetear la animación
        });

        nextBtn.addEventListener('click', () => {
            if (isAnimating) return;
            isAnimating = true;
            currentIndex = (currentIndex < totalSlides - 1) ? currentIndex + 1 : 0;
            moveSlider();
            setTimeout(() => isAnimating = false, 500); // Resetear la animación
        });

        // Deslizar automáticamente cada 5 segundos
        setInterval(() => {
            if (isAnimating) return;
            isAnimating = true;
            currentIndex = (currentIndex < totalSlides - 1) ? currentIndex + 1 : 0;
            moveSlider();
            setTimeout(() => isAnimating = false, 500); // Resetear la animación
        }, 5000);
    });
</script>